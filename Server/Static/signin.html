<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Crypto Quote - Sign-up</title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-messaging.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.1/firebase-functions.js"></script>
  <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

     <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyB7YZWn2xtUDO4g7jZUBywjIi3zIrbeW64",
        authDomain: "finalproject-9ce10.firebaseapp.com",
        databaseURL: "https://finalproject-9ce10.firebaseio.com",
        projectId: "finalproject-9ce10",
        storageBucket: "finalproject-9ce10.appspot.com",
        messagingSenderId: "926911554778",
        appId: "1:926911554778:web:177a9f0894c8766b96b1e3"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <!--<script src="./JS/script.js"></script>-->



</head>
<body>
  <div class="container" style="padding: 25px">
  <div class="row">
  <div class="col-md-6">
  <div class="card">
      <header class="card-header">
          <a href="index.html" class="float-right btn btn-outline-primary mt-1">Log in</a>
          <h4 class="card-title mb-2 mt-2">Sign up</h4>
      </header>
      <article class="card-body">
          <form>
              <div class="form-row">
                  <div class="col form-group">
                    <label for="">Your email:</label>
                      <input type="email" id="txtnewemail"><br>
                  </div>
                  <div class="col form-group">
                    <label for="">Coins:</label>
                      <input type="number" id="txtcoins"><br>
                  </div>
                    <input type="button" value="Sign In" onclick="createuser();">

                </div>
  </div>
  </div>
  </div>
</body>
<script>
  
  async function createuser(){
  
  
  var txtnewemail = document.getElementById('txtnewemail').value;
  var txtcoins = document.getElementById('txtcoins').value;
  
  var newuserref = firebase.database().ref(`/email/user`);
  //var iduser = 1;
  var pushnewuser = await newuserref.push({"user_id": txtnewemail, "coins": txtcoins});
  window.alert("Account created successfully!");

  

   /*databaseref.once("value", function (snapshot) {
        if (snapshot.exists()){
          const existemail = snapshot.val();
          console.log(`${existemail}`);
            if (existemail == txtemail){
              window.alert('data ok');
            }else{
              var databasepos = firebase.collection("email").doc(`${iduser}`);
                console.log(`${iduser}`)
                while (iduser <= databasepos.length + 1 ){
                  console.log('while ok')
                  iduser ++;
                  //console.log(iduser);
                  checkuser();
                  }
                }
              
            }else{
              window.alert(`The email ${txtemail} does not exist in our database`);
            }
          });*/
      };
    
</script>
</html>